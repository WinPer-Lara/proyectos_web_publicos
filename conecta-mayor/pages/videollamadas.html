<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Videollamadas — Conecta Mayor</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
  <div id="site-header"></div>

  <main class="container my-5">
    <h1 class="fs-3"><i class="bi bi-camera-video"></i> Videollamadas</h1>
    <p class="text-muted">Cómo unirse a una reunión, activar cámara/micrófono y compartir pantalla.</p>

    <section class="container-card mb-4">
      <h2 class="fs-5">Guía paso a paso</h2>
      <h3 class="fs-6">1. Preparar el equipo</h3>
      <ol>
        <li>Comprueba que la cámara y el micrófono funcionan (en ajustes de sonido).</li>
        <li>Cierra aplicaciones que utilicen la cámara para evitar conflictos.</li>
      </ol>

      <h3 class="fs-6 mt-3">2. Unirse a una reunión</h3>
      <ol>
        <li>Haz clic en el enlace de la reunión o abre la aplicación y escribe el ID.</li>
        <li>Cuando se te pida, acepta el uso del micrófono y la cámara.</li>
        <li>Pulsa "Unirse" o "Entrar".</li>
      </ol>

      <h3 class="fs-6 mt-3">3. Compartir pantalla</h3>
      <ol>
        <li>Busca el botón "Compartir pantalla" (Share screen) dentro de la llamada.</li>
        <li>Elige compartir toda la pantalla o solo una ventana específica.</li>
        <li>Para dejar de compartir pulsa "Dejar de compartir" o "Stop".</li>
      </ol>

      <h3 class="fs-6 mt-3">4. Etiqueta y privacidad</h3>
      <ul>
        <li>Silencia tu micrófono cuando no estés hablando.</li>
        <li>Si sales de la reunión, cierra la ventana o pulsa "Salir".</li>
        <li>Evita mostrar información personal si compartes pantalla.</li>
      </ul>
    </section>

    <section class="container-card mb-4">
      <h2 class="fs-5">Vídeo demostrativo</h2>
      <div id="video-embed" class="ratio ratio-16x9"></div>
      <script>
        (function(){
          const container = document.getElementById('video-embed');
          if(!container) return;
          const isFile = location.protocol === 'file:';
          const YT_ID = 'edGq8hQ5__4';
          if(isFile){
            const link = document.createElement('a');
            link.href = 'https://youtu.be/edGq8hQ5__4';
            link.target = '_blank';
            link.rel = 'noopener';
            link.className = 'file-video-fallback d-flex align-items-center justify-content-center';
            link.style.width = '100%'; link.style.height = '100%'; link.style.borderRadius = '6px'; link.style.background = 'var(--surface)'; link.style.color = 'var(--text)'; link.style.textDecoration = 'none';
            link.setAttribute('aria-label','Abrir vídeo de videollamada en YouTube');
            link.innerHTML = '<div style="text-align:center;"><svg width="72" height="72" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7L8 5z" fill="currentColor"/></svg><div style="margin-top:8px;font-size:14px">Abrir en YouTube</div></div>';
            container.appendChild(link);
          } else {
            const iframe = document.createElement('iframe');
            iframe.src = 'https://www.youtube.com/embed/' + YT_ID;
            iframe.title = 'Vídeo de videollamada';
            iframe.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
            iframe.setAttribute('allowfullscreen','');
            iframe.style.borderRadius = '6px'; iframe.style.width = '100%'; iframe.style.height = '100%';
            container.appendChild(iframe);
          }
        })();
      </script>
    </section>

    <section id="video-sim" class="container-card mb-4">
      <h2 class="fs-5">Simulador de videollamada</h2>
      <p class="text-muted">Pulsa "Unirse" para simular entrar a una reunión.</p>
      <div class="mb-3">
        <button class="btn btn-primary join-meeting">Unirse a la reunión</button>
      </div>
      <div class="meeting-area" style="display:block;">
        <video class="meeting-video" style="display:none;width:100%;border-radius:6px;" controls muted>
          <source src="https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4" type="video/mp4">
        </video>
      </div>
    </section>
  </main>

  <div id="site-footer"></div>
  <script src="../js/config.js"></script>
  <script src="../js/partials-loader.js"></script>
  <script src="../js/scripts.js"></script>
  <script src="../js/simulators.js"></script>
  <script>
    if(window.ConectaSim) ConectaSim.initVideoSimulator('video-sim');
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
